# 自建梯子完整指南 - 从零开始的科普与实战教程

> **声明**：本文档仅用于技术学习和网络技术研究，请遵守当地法律法规。

---

## 目录

1. [基础概念科普](#1-基础概念科普)
2. [核心名词解释](#2-核心名词解释)
3. [协议详解](#3-协议详解)
4. [服务器与网络类型](#4-服务器与网络类型)
5. [部署面板工具](#5-部署面板工具)
6. [客户端工具](#6-客户端工具)
7. [手把手搭建教程](#7-手把手搭建教程)
8. [进阶技巧](#8-进阶技巧)
9. [参考资源](#9-参考资源)

---

## 1. 基础概念科普

### 1.1 什么是"梯子"？

**梯子**（Proxy/VPN）是一种网络代理技术，用于：

| 功能 | 说明 |
|------|------|
| **突破网络限制** | 访问被限制的网站和服务 |
| **加密数据传输** | 保护网络通信安全 |
| **隐藏真实IP** | 保护隐私和匿名访问 |

### 1.2 工作原理图解

```
┌─────────┐      加密隧道      ┌────────────┐      正常访问     ┌───────────┐
│ 你的设备 │ ────────────────> │ 代理服务器  │ ────────────────>│   目标网站  │
└─────────┘                   └────────────┘                  └───────────┘
   本地IP                           服务器IP                        目标IP
```

### 1.3 核心组成

一个完整的代理系统包含：

| 组成部分 | 作用 |
|----------|------|
| **服务端** | 部署在境外服务器上，负责转发流量 |
| **客户端** | 安装在你设备上，负责加密和发送流量 |
| **协议** | 服务端和客户端之间的"语言" |
| **配置** | 连接所需的地址、端口、密钥等信息 |

---

## 2. 核心名词解释

### 2.1 服务器角色

| 名词 | 英文 | 解释 |
|------|------|------|
| **落地机** | Exit Node | 最终访问目标网站的服务器，IP暴露给目标 |
| **线路机** | Relay/Middle Node | 中转服务器，用于隐藏落地机真实IP |
| **中转** | Relay/Forward | 通过中间服务器转发流量的技术 |

```
用户 → 线路机1 → 线路机2 → 落地机 → 目标网站
      (隐藏真实IP路径)
```

### 2.2 网络类型

| 类型 | 说明 | 优缺点 |
|------|------|--------|
| **家宽** | 家庭宽带，住宅IP | ✓ 更隐蔽 ✗ 速度不稳定 |
| **机房** | 数据中心，商业IP | ✓ 速度快稳定 ✗ 容易被识别 |

### 2.3 技术名词

| 名词 | 解释 |
|------|------|
| **Sing-box** | 通用代理平台，支持多种协议的下一代工具 |
| **沙箱** | 隔离运行环境，用于安全测试和运行不明程序 |
| **中转** | 流量转发技术，通过中间节点转发数据 |
| **落地** | 流量最终出口，访问目标网站的服务器 |
| **混淆** | 伪装流量特征，使其看起来像普通流量 |
| **TLS/SSL** | 加密协议，让HTTPS流量安全传输 |

### 2.4 常见缩写

| 缩写 | 全称 | 含义 |
|------|------|------|
| **VPS** | Virtual Private Server | 虚拟专用服务器 |
| **VM** | Virtual Machine | 虚拟机 |
| **SS** | Shadowsocks | 一种轻量级代理协议 |
| **SSR** | ShadowsocksR | SS的改进版（已过时）|
| **V2Ray** | Project V | 复杂的代理平台 |
| **Xray** | Xray-core | V2Ray的升级版 |
| **Trojan** | Trojan协议 | 伪装成HTTPS的代理 |

---

## 3. 协议详解

### 3.1 协议发展史

```
HTTP代理 → SOCKS代理 → Shadowsocks → V2Ray → Xray → Hysteria2
  (明文)    (基础)        (加密)      (复杂)   (优化)    (极速)
```

### 3.2 协议对比表

| 协议           | 抗封锁性 | 速度  | 配置复杂度 | 依赖TLS | 适用场景                       | github                                 |
| :------------- | :------- | :---- | :--------- | :------ | :----------------------------- | -------------------------------------- |
| **Xray-core**  | ★★★★★    | ★★★★☆ | 中         | 是      | 高隐蔽性，支持多协议分流       | https://github.com/XTLS/Xray-core      |
| **V2Ray**      | ★★★☆☆    | ★★★★☆ | 中         | 是      | 老牌稳定，社区支持多           | https://github.com/v2fly/v2ray-core    |
| **Trojan-Go**  | ★★★★☆    | ★★★★★ | 中         | 是      | 高流量伪装（模仿HTTPS）        | https://github.com/p4gefau1t/trojan-go |
| **NaiveProxy** | ★★★★☆    | ★★★☆☆ | 高         | 是      | 需要多层代理（如CDN+HTTP伪装） | https://github.com/klzgrad/naiveproxy  |
| **Brook**      | ★★★☆☆    | ★★★★☆ | 低         | 可选    | 简单UDP转发（游戏/语音）       | https://github.com/txthinking/brook    |
| **Hysteria2**  | ★★★★★    | ★★★★★ | 低         | 是      | 高丢包网络（暴力加速）         | https://github.com/apernet/hysteria    |



## 2.实现方案(按抗封锁优先级排序)

### **1. Xray-core (VLESS/VLESS+REALITY)**

| **特性**          | **实现方案**                                    | **核心区别**                                                 |
| :---------------- | :---------------------------------------------- | :----------------------------------------------------------- |
| **VLESS+REALITY** | 无证书动态端口，伪装知名网站流量（如苹果/微软） | ✅ 无需域名和TLS证书 ✅ 抗封锁最强（模仿真实TLS流量） ❌ 需Xray-core支持 |
| **VLESS+Vision**  | 需TLS证书，但优化了XTLS的流控                   | ✅ 比传统XTLS更安全 ❌ 依赖域名和证书                          |
| **VLESS+gRPC**    | 通过gRPC协议伪装（如Google Cloud CDN）          | ✅ 高隐蔽性 ❌ 配置复杂，需CDN配合                             |



### **2. Hysteria2**

| **特性**     | **实现方案**                               | **核心区别**                                                 |
| :----------- | :----------------------------------------- | :----------------------------------------------------------- |
| **暴力加速** | UDP协议+自定义拥塞控制，伪装为QUIC流量     | ✅ 抗QoS/高丢包网络 ✅ 500Mbps+高速 ❌ 流量特征明显（需频繁更换端口） |
| **Obfs混淆** | 可选`salamander`混淆（需客户端服务端一致） | ✅ 增强抗封锁 ❌ 降低约10%速度                                 |



### **3. Trojan-Go**

| **特性**          | **实现方案**                        | **核心区别**                        |
| :---------------- | :---------------------------------- | :---------------------------------- |
| **经典HTTPS伪装** | 完全模仿HTTPS流量，需域名和正规证书 | ✅ 企业级隐蔽性 ❌ 依赖TLS证书        |
| **WebSocket扩展** | 通过Nginx反代，伪装为WebSocket流量  | ✅ 可搭配CDN ❌ 需要额外Web服务器配置 |



### **4. NaiveProxy**

| **特性**         | **实现方案**                        | **核心区别**                                            |
| :--------------- | :---------------------------------- | :------------------------------------------------------ |
| **HTTP多层代理** | 基于Chrome的HTTP/2代理，需域名+证书 | ✅ 极难检测（如CDN+HTTP伪装） ❌ 速度较慢（约VMess的70%） |
| **多用户支持**   | 通过Hitch实现多用户认证             | ✅ 适合团队使用 ❌ 配置极复杂                             |



### **5. ShadowSocks**

| **特性**     | **实现方案**                                | **核心区别**                             |
| :----------- | :------------------------------------------ | :--------------------------------------- |
| **AEAD加密** | 推荐`aes-256-gcm`或`chacha20-ietf-poly1305` | ✅ 低资源占用 ❌ 易被深度包检测（DPI）封锁 |
| **插件扩展** | 配合`v2ray-plugin`或`simple-obfs`实现伪装   | ✅ 兼容旧设备 ❌ 需手动编译插件            |



### **6. Brook**

| **特性**     | **实现方案**                    | **核心区别**                              |
| :----------- | :------------------------------ | :---------------------------------------- |
| **UDP优先**  | 原生支持UDP转发，无状态连接     | ✅ 适合游戏/直播 ❌ 无内置TLS（需自行配置） |
| **简易部署** | 单二进制文件运行，支持`wss`模式 | ✅ 零配置启动 ❌ 功能较少                   |



### **核心选择建议**

1.  **严格封锁环境**：优先 `Xray-REALITY` > `Hysteria2`
2.  **高速需求**：`Hysteria2` > `Trojan-Go`
3.  **兼容旧设备**：`ShadowSocks` > `Brook`
4.  **企业级隐蔽**：`NaiveProxy` > `Trojan-Go+WS`

>   注：所有方案需配合**域名+正规证书**（除REALITY）和**CDN中转**（可选）以增强抗封锁能力。



## 3、部署工具对比

### **一、一键脚本工具**

| 工具名称              | 支持协议                       | 特点                                    | 项目地址                                                    |
| :-------------------- | :----------------------------- | :-------------------------------------- | :---------------------------------------------------------- |
| **Xray-install**      | Xray-core (VLESS/VMess/Trojan) | 官方脚本，纯净安装，支持REALITY         | [GitHub](https://github.com/XTLS/Xray-install)              |
| **v2ray-agent**       | V2Ray/Xray/Trojan/NaiveProxy   | 多协议共存，支持IPv6和CDN               | [GitHub](https://github.com/mack-a/v2ray-agent)             |
| **ProxySU**           | 全协议（含Hysteria2/Brook）    | 图形化界面，适合新手，支持Windows/Linux | [GitHub](https://github.com/Alvin9999/new-pac/wiki/ProxySU) |
| **Hysteria2-install** | Hysteria2                      | 专注Hysteria2暴力加速，自动配置BBR      | [GitHub](https://github.com/apernet/hysteria)               |



### **二、可视化面板工具**

| 工具名称    | 支持协议              | 特点                                 | 项目地址                                         |
| :---------- | :-------------------- | :----------------------------------- | :----------------------------------------------- |
| **NekoRay** | VMess/VLESS/Trojan/SS | 跨平台客户端，支持规则分流和订阅管理 | [GitHub](https://github.com/MatsuriDayo/nekoray) |
| **Qv2ray**  | 全协议（需插件扩展）  | 开源跨平台，支持复杂路由规则         | [GitHub](https://github.com/Qv2ray/Qv2ray)       |
| **V2RayN**  | V2Ray/Xray核心        | Windows专属，简单易用                | [GitHub](https://github.com/2dust/v2rayN)        |



### **三、多协议管理工具**

| 工具名称       | 核心功能         | 协议支持                       | 适用场景               | github                                  |
| :------------- | :--------------- | :----------------------------- | :--------------------- | --------------------------------------- |
| **Sing-Box**   | 模块化代理工具箱 | VLESS/REALITY/Trojan/Hysteria2 | 高级用户自定义配置     | https://github.com/SagerNet/sing-box    |
| **Clash.Meta** | 增强版Clash核心  | 支持TUIC/ShadowTLS等新协议     | 需要复杂分流规则的用户 | https://github.com/MetaCubeX/Clash.Meta |
| **Xray-core**  | 多协议分流       | VLESS/VMess/Trojan/Shadowsocks | 高隐蔽性需求           |                                         |



### **四、特殊场景工具**

| 工具名称  | 用途                       | 特点                                    |
| :-------- | :------------------------- | :-------------------------------------- |
| **gost**  | 多层级隧道转发             | 支持HTTP/SSH/SOCKS5中转，适合跳板机搭建 |
| **brook** | 简易UDP代理                | 单文件部署，适合游戏加速                |
| **wgcf**  | WireGuard伪装Cloudflare IP | 免费获取IPv4/IPv6，适合VPS无原生IP场景  |



### **五、核心工具对比**

| **维度**       | **最佳选择**           | **替代方案** | **原因**                   |
| :------------- | :--------------------- | :----------- | :------------------------- |
| **新手友好**   | ProxySU                | v2ray-agent  | 图形化操作，全协议覆盖     |
| **高性能**     | Hysteria2-install      | Sing-Box     | 专为暴力加速优化           |
| **高隐蔽性**   | Xray-install (REALITY) | Clash.Meta   | 动态端口+无证书伪装        |
| **多用户管理** | v2ray-agent            | NekoRay      | 支持账号批量生成和流量统计 |



### **六、选择建议**

1.  **快速部署**：
    +   个人使用：`ProxySU`（图形化）
    +   生产环境：`v2ray-agent`（稳定性高）
2.  **协议兼容性**：
    +   新协议支持：`Sing-Box` > `Clash.Meta`
    +   传统协议：`Xray-core`
3.  **移动端适配**：
    +   Android：`NekoRay`
    +   iOS：`Shadowrocket`（需付费）

### **七、服务端管理面板详细对比**

#### **1. 3X-UI 面板**

**简介**：3X-UI 是目前最流行的 Xray 多协议管理面板，支持可视化配置。

| 特性 | 说明 |
|------|------|
| **支持协议** | VMess、VLESS、Trojan、Shadowsocks、Reality |
| **数据库** | SQLite（默认）/ MySQL |
| **多用户管理** | ✓ 支持流量统计、到期时间、在线用户 |
| **订阅功能** ✓ 支持订阅链接，方便客户端导入 |
| **Web面板** | 中文界面，操作简单 |
| **安全特性** | 防暴力破解、IP限制、流量限制 |
| **一键脚本** | ✓ 支持一键安装/升级/卸载 |

**官方地址**：https://github.com/MHSanaei/3x-ui

**一键安装命令**：
```bash
bash <(curl -Ls https://raw.githubusercontent.com/mhsanaei/3x-ui/master/install.sh)
```

**面板特点**：
- 支持入站/出站配置
- 支持 WebSocket、gRPC 传输方式
- 支持 Reality 协议（无需域名证书）
- 支持流量重置和用户管理
- 支持 Telegram Bot 通知

---

#### **2. S-UI 面板**

**简介**：S-UI 是基于 Sing-box 的管理面板，支持新一代协议。

| 特性 | 说明 |
|------|------|
| **支持协议** | VLESS、Reality、Trojan、Shadowsocks、Hysteria2、TUIC |
| **核心** | Sing-box（通用代理平台）|
| **数据库** | SQLite |
| **多用户管理** | ✓ 支持流量限制、到期管理 |
| **订阅功能** ✓ 支持 JSON/Base64 订阅 |
| **Web面板** | 简洁现代界面 |
| **特色功能** | 支持 Sing-box 全部协议和特性 |

**官方地址**：https://github.com/SagerNet/sing-box （核心）
              https://github.com/ultra5ui/s-ui （面板）

**一键安装命令**：
```bash
bash <(curl -Ls https://raw.githubusercontent.com/ultra5ui/s-ui/master/install.sh)
```

**面板特点**：
- 基于最新的 Sing-box 核心
- 支持 Hysteria2 和 TUIC 新协议
- 支持 Reality 和 Vision 协议
- 支持多种传输方式（TCP、WebSocket、gRPC、QUIC）
- 更现代的架构和更好的性能

---

#### **3. 3X-UI vs S-UI 对比**

| 对比项 | 3X-UI | S-UI |
|--------|-------|------|
| **核心** | Xray-core | Sing-box |
| **协议支持** | 传统协议齐全 | 新协议更多（Hysteria2/TUIC）|
| **稳定性** | 非常稳定 | 较新，持续更新 |
| **社区支持** | 文档丰富，教程多 | 相对较少 |
| **推荐场景** | 生产环境、稳定第一 | 尝试新协议、技术爱好者 |
| **中文支持** | 完整中文界面 | 支持中文 |

---

#### **4. 其他面板工具**

| 面板名称 | 核心引擎 | 特点 | 官方地址 |
|----------|----------|------|----------|
| **X-UI** | Xray | 3X-UI 的前身 | https://github.com/vaxilu/x-ui |
| **Marzban** | Xray/Sing-box | Python 编写，功能强大 | https://github.com/marzbans |
| **V2Board** | Xray | PHP + 前后端分离，适合建站 | https://github.com/v2board |
| **Warp-Panel** | Cloudflare WARP | WARP 独立面板 | https://github.com/abeamin/warp-panel |
| **Hysteria2-Panel** | Hysteria2 | 专注 Hysteria2 协议 | https://github.com/tahar-rhinet/hysteria2-panel |

---

## 4. 服务器与网络类型

### 4.1 VPS 服务器提供商

| 商家 | 特点 | 推荐线路 | 官网 |
|------|------|----------|------|
| **Vultr** | 按小时计费，可随时删除 | 美国/日本/新加坡 | vultr.com |
| **DigitalOcean** | 稳定，文档丰富 | 美国旧金山/新加坡 | digitalocean.com |
| **Linode (Akamai)** | 性价比高，亚洲节点多 | 日本/新加坡/印度 | linode.com |
| **BandwagonHost** | 便宜，CN2 GIA线路 | 洛杉矶CN2 | bandwagonhost.com |
| **DMIT** | 高端线路，速度快 | 洛杉矶/圣何塞 | dmit.io |
| **Contabo** | 性价比极高，流量多 | 美国/欧洲 | contabo.com |
| **RackNerd** | 促销价格低 | 美国多城市 | racknerd.com |
| **腾讯云/阿里云** | 国内购买方便 | 香港/新加坡 | cloud.tencent.com |

### 4.2 线路类型详解

| 线路类型 | 延迟 | 速度 | 稳定性 | 价格 | 说明 |
|----------|------|------|--------|------|------|
| **CN2 GIA** | 低 | 快 | 高 | 高 | 中国电信下一代承载网，最优 |
| **CN2 GT** | 中 | 中 | 中 | 中 | 中国电信普通CN2，一般 |
| **普通线路** | 高 | 慢 | 低 | 低 | 普通国际带宽，晚高峰拥堵 |
| **BGP线路** | 低 | 快 | 高 | 高 | 多线接入，自动切换最优 |
| **IPLC** | 极低 | 极快 | 极高 | 极高 | 国际专线，最稳定 |

### 4.3 家宽 vs 机房

#### **家宽（住宅IP）**
```
优点：
+ IP信誉度高，不易被封锁
+ 流量特征像普通用户
+ 适合长期使用

缺点：
- 上行带宽一般较低
- 价格较贵
- 需要自己维护

获取方式：
• 购买 AWS Lightsail（部分地区是家宽）
• 购买云服务器商的住宅IP服务
• 使用代理服务商的住宅IP
```

#### **机房（数据中心IP）**
```
优点：
+ 带宽大，速度快
+ 价格便宜
+ 稳定性好

缺点：
- IP容易被识别和封锁
• 流量特征明显

获取方式：
• 普通 VPS 都是机房IP
• Vultr、DigitalOcean 等
```

### 4.4 选择建议

| 你的需求 | 推荐选择 |
|----------|----------|
| **首次尝试** | Vultr / DigitalOcean（按小时计费，随时删除）|
| **追求速度** | DMIT / 洛杉矶CN2 GIA |
| **预算有限** | RackNerd 促销 / Contabo |
| **长期稳定** | BandwagonHost（搬瓦工）|
| **亚洲节点** | 腾讯云香港 / Linode 新加坡 |

---

## 5. 客户端工具

### 5.1 桌面端客户端

| 客户端                     | 支持平台          | 支持协议                  | 特点                 | 下载地址                                                         |
| ----------------------- | ------------- | --------------------- | ------------------ | ------------------------------------------------------------ |
| **Clash Verge**         | Win/Mac/Linux | 全协议                   | 基于Clash.Meta，图形化友好 | [GitHub](https://github.com/clash-verge-rev/clash-verge-rev) |
| **v2rayN**              | Windows       | V2Ray/Xray            | 老牌稳定，操作简单          | [GitHub](https://github.com/2dust/v2rayN)                    |
| **Qv2ray**              | Win/Mac/Linux | 全协议（需插件）              | 跨平台，功能强大           | [GitHub](https://github.com/Qv2ray/Qv2ray)                   |
| **NekoRay**             | Win/Mac/Linux | VMess/VLESS/Trojan/SS | 界面美观，规则分流          | [GitHub](https://github.com/MatsuriDayo/nekoray)             |
| **Shadowsocks-Windows** | Windows       | SS                    | 专注SS协议，轻量级         | [GitHub](https://github.com/shadowsocks/shadowsocks-windows) |

### 5.2 移动端客户端

| 客户端 | 平台 | 支持协议 | 特点 | 下载方式 |
|--------|------|----------|------|----------|
| **Clash Meta for Android** | Android | 全协议 | 功能强大，规则丰富 | [GitHub](https://github.com/MetaCubeX/mihomo) |
| **v2rayNG** | Android | V2Ray/Xray/SS | 开源免费，更新频繁 | Google Play / GitHub |
| **Shadowsocks** | Android | SS | 简单稳定 | Google Play / GitHub |
| **Shadowrocket** | iOS | 全协议 | 最强大iOS客户端，需付费 $2.99 | App Store（美区）|
| **Quantumult X** | iOS | 全协议 | 功能丰富，需付费 $7.99 | App Store（美区）|
| **Loon** | iOS | 全协议 | 配置灵活，需付费 $5.99 | App Store（美区）|

### 5.3 命令行客户端

| 客户端 | 说明 | 项目地址 |
|--------|------|----------|
| **sing-box** | 通用代理平台，支持所有协议 | https://github.com/SagerNet/sing-box |
| **xray** | Xray核心命令行 | https://github.com/XTLS/Xray-core |
| **clash-meta** | Clash核心，支持规则分流 | https://github.com/MetaCubeX/mihomo |

### 5.4 客户端推荐

| 使用场景 | 推荐客户端 |
|----------|------------|
| **Windows新手** | v2rayN / Clash Verge |
| **Mac用户** | Clash Verge / ClashX |
| **Linux用户** | Clash Verge / sing-box |
| **Android新手** | v2rayNG |
| **iOS** | Shadowrocket（推荐）|
| **技术爱好者** | sing-box / Clash Meta |

---

## 6. 关键注意事项

### **一、安全防护**

1.  **防火墙配置**

    +   仅开放必要端口（如443、80），关闭SSH默认22端口，改为非标准端口（如`50022`）。

    +   示例命令：

        ```bash
        sudo ufw allow 443/tcp && sudo ufw allow 80/tcp && sudo ufw enable
        ```

2.  **防暴力破解**

    +   安装`fail2ban`防御SSH爆破：

        ```bash
        sudo apt install fail2ban && sudo systemctl start fail2ban
        ```

    +   禁用密码登录，改用SSH密钥：

        ```bash
        sed -i 's/#PasswordAuthentication yes/PasswordAuthentication no/g' /etc/ssh/sshd_config
        ```

3.  **协议安全**

    +   避免使用弱加密（如SS的`rc4-md5`），优先选择：
        +   Xray：`VLESS+REALITY`（无证书）
        +   Trojan：`TLS1.3+ECDHE`
        +   SS：`aes-256-gcm`或`chacha20-ietf-poly1305`



### **二、隐蔽性优化**

1.  **域名与证书**

    +   使用境外注册商（如Cloudflare）的域名，避免`.cn`后缀。

    +   通过`acme.sh`自动续签Let's Encrypt证书：

        ```bash
        acme.sh --issue --standalone -d your.domain --keylength ec-256
        ```

2.  **流量伪装**

    +   **REALITY**：伪装为知名网站（如`www.apple.com:443`）。
    +   **Trojan-Go**：搭配Nginx反向代理真实网站。
    +   **Hysteria2**：启用`salamander`混淆。

3.  **CDN中转**

    +   使用Cloudflare代理流量（橙色云图标），隐藏服务器真实IP。
    +   注意：CDN可能降低速度，适合高封锁地区。



### **三、性能与稳定性**

1.  **BBR加速**

    ```bash
    echo "net.core.default_qdisc=fq" >> /etc/sysctl.conf
    echo "net.ipv4.tcp_congestion_control=bbr" >> /etc/sysctl.conf
    sysctl -p
    ```

2.  **协议选择**

    | **场景**   | **推荐协议**     | **原因**                   |
    | :--------- | :--------------- | :------------------------- |
    | 高封锁网络 | VLESS+REALITY    | 无证书动态端口，抗封锁最强 |
    | 高速需求   | Hysteria2        | UDP暴力加速，500Mbps+带宽  |
    | 兼容旧设备 | ShadowSocks+AEAD | 低资源占用                 |

3.  **监控与日志**

    +   禁用敏感日志：

        ```bash
        sudo sed -i 's/^Log/#Log/g' /usr/local/etc/xray/config.json
        ```

    +   使用`vnstat`监控流量：

        ```bash
        vnstat -l -i eth0
        ```



## 8. 进阶技巧

### 8.1 多级中转（链式代理）

```
用户 → 中转机1 → 中转机2 → 落地机 → 目标网站
```

**实现方式：**
- 使用 gost 进行多级转发
- 配置 Sing-box 的链式 outbound
- 使用 Shadowsocks over Trojan

### 8.2 CDN 隐藏真实IP

**使用 Cloudflare CDN：**

1. 添加域名到 Cloudflare
2. 配置 DNS，将域名指向服务器IP
3. 开启橙色云图标（CDN代理）
4. 配置 WebSocket 或 gRPC 传输

### 8.3 分流规则

**常用分流场景：**

| 规则类型 | 说明 | 示例 |
|----------|------|------|
| **国内直连** | 国内网站不走代理 | baidu.com, taobao.com |
| **国外代理** | 国外网站走代理 | google.com, youtube.com |
| **广告拦截** | 阻止广告域名 | ad.com, analytics.com |
| **特定地区** | 指定地区走特定节点 | Netflix 走美国节点 |

### 8.4 伪装网站

**搭建真实网站增强隐蔽性：**

```bash
# 安装 Nginx
apt install nginx -y

# 配置反向代理
nano /etc/nginx/conf.d/proxy.conf
```

### 8.5 流量监控

```bash
# 安装 vnstat
apt install vnstat -y

# 初始化监控
vnstat -i eth0 -u

# 查看实时流量
vnstat -l -i eth0
```

### 8.6 自动备份

```bash
# 创建备份脚本
cat > /root/backup.sh << 'EOF'
#!/bin/bash
tar -czf /root/backup-$(date +%Y%m%d).tar.gz /usr/local/etc/xray /etc/nginx
find /root -name "backup-*.tar.gz" -mtime +7 -delete
EOF

# 添加定时任务
crontab -e
# 添加：0 3 * * * /root/backup.sh
```

### 8.7 BBR 加速

```bash
# 开启 BBR
echo "net.core.default_qdisc=fq" >> /etc/sysctl.conf
echo "net.ipv4.tcp_congestion_control=bbr" >> /etc/sysctl.conf
sysctl -p

# 验证
sysctl net.ipv4.tcp_congestion_control
lsmod | grep bbr
```

### 8.8 IP 限制

```bash
# 仅允许指定 IP 访问（在面板或配置中设置）
# 或使用防火墙规则
ufw allow from 你的IP to any port 443
```

---

## 9. 参考资源

### 9.1 官方项目

| 项目 | 地址 | 说明 |
|------|------|------|
| **Xray-core** | https://github.com/XTLS/Xray-core | Xray 核心项目 |
| **Sing-box** | https://github.com/SagerNet/sing-box | 通用代理平台 |
| **V2Ray** | https://github.com/v2fly/v2ray-core | V2Ray 核心 |
| **Hysteria2** | https://github.com/apernet/hysteria | Hysteria2 协议 |
| **3X-UI** | https://github.com/MHSanaei/3x-ui | Xray 管理面板 |
| **S-UI** | https://github.com/ultra5ui/s-ui | Sing-box 管理面板 |

### 9.2 客户端下载

| 客户端 | 地址 |
|--------|------|
| **v2rayN** | https://github.com/2dust/v2rayN/releases |
| **Clash Verge** | https://github.com/clash-verge-rev/clash-verge-rev/releases |
| **v2rayNG** | https://github.com/2dust/v2rayNG/releases |
| **Shadowrocket** | App Store（美区）|

### 9.3 教程资源

| 资源 | 地址 | 说明 |
|------|------|------|
| **科学上网工具大全** | https://github.com/Alvin9999/new-pac/wiki | 最全面的教程集合 |
| **RATS教程** | https://github.com/Alvin9999/new-pac/wiki/RATS%E6%95%99%E7%A8%8B | RATS 教程 |
| **Xray文档** | https://xtls.github.io/Xray-docs-next/ | Xray 官方文档 |
| **Project X** | https://github.com/XTLS | Project X 组织 |

### 9.4 工具脚本

| 工具 | 地址 | 说明 |
|------|------|------|
| **Xray-install** | https://github.com/XTLS/Xray-install | Xray 官方安装脚本 |
| **acme.sh** | https://github.com/acmesh-official/acme.sh | SSL 证书申请工具 |
| **gost** | https://github.com/ginuerzh/gost | 多协议转发工具 |
| **wgcf** | https://github.com/ViRb3/wgcf | Cloudflare WARP 工具 |

### 9.5 域名与证书

| 服务 | 地址 | 说明 |
|------|------|------|
| **Cloudflare** | https://www.cloudflare.com | 免费 CDN 和 DNS |
| **Let's Encrypt** | https://letsencrypt.org | 免费 SSL 证书 |
| **Namecheap** | https://www.namecheap.com | 域名注册商 |

### 9.6 社区资源

| 资源 | 说明 |
|------|------|
| **r/v2ray** | Reddit 社区 |
| **Telegram 群组** | 多个技术交流群组 |
| **Discord** | Xray 和 Clash 官方服务器 |



