<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>代理协议详解 - Proxy 101</title>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body class="light-mode">
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1>Proxy 101</h1>
                <p class="nav-tagline">全面的代理知识库</p>
            </div>
            <div class="nav-actions">
                <a class="nav-icon-link" href="https://github.com/zhichao12/proxy-101" target="_blank" rel="noopener" aria-label="GitHub 仓库">
                    <svg viewBox="0 0 16 16" aria-hidden="true" focusable="false">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8Z"/>
                    </svg>
                </a>
                <button class="theme-toggle" id="themeToggle" aria-label="切换主题">
                    <span class="theme-icon">🌙</span>
                </button>
            </div>
        </div>
    </nav>

    <div class="container">
        <aside class="sidebar">
            <nav class="sidebar-nav">
                                    <div class="nav-section">
                    <h3>基础理论</h3>
                    <ul>
                        <li><a href="basics.html">代理基础概念</a></li>
                        <li><a href="terminology.html">核心术语解析</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>VPS 相关</h3>
                    <ul>
                        <li><a href="vps.html">VPS 基础知识</a></li>
                        <li><a href="providers.html">VPS 提供商</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>协议与工具</h3>
                    <ul>
                        <li><a href="protocols.html">代理协议详解</a></li>
                        <li><a href="tools.html">部署工具</a></li>
                        <li><a href="clients.html">客户端推荐</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>网络基础</h3>
                    <ul>
                        <li><a href="icmp.html">ICMP 协议详解</a></li>
                        <li><a href="nat.html">NAT 穿透机制</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>安全与防护</h3>
                    <ul>
                        <li><a href="security.html">安全防护机制</a></li>
                        <li><a href="gfw.html">GFW 检测原理</a></li>
                        <li><a href="ip-blocking.html">IP 封禁机制</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>进阶与实战</h3>
                    <ul>
                        <li><a href="advanced.html">进阶优化</a></li>
                        <li><a href="faq.html">常见问题</a></li>
                    </ul>
                </div>

            </nav>
        </aside>

        <main class="main-content content-page">
            <div class="breadcrumb">
                <a href="../index.html">首页</a>
                <span>/</span>
                <span>代理协议详解</span>
            </div>

            <h1>🔐 代理协议详解</h1>

            <p>代理协议是客户端和服务端之间通信的"语言"。不同协议在安全性、速度、隐蔽性等方面各有特点。本章将详细介绍主流代理协议。</p>

            <h2>协议发展史</h2>
            <pre><code>HTTP 代理 → SOCKS 代理 → Shadowsocks → V2Ray → Xray → Hysteria2
  (明文)      (基础)        (加密)      (复杂)   (优化)    (极速)</code></pre>

            <h2>协议对比总览</h2>
            <table>
                <thead>
                    <tr>
                        <th>协议</th>
                        <th>抗封锁性</th>
                        <th>速度</th>
                        <th>配置复杂度</th>
                        <th>推荐度</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Xray-core</strong></td>
                        <td><span class="badge badge-success">★★★★★</span></td>
                        <td><span class="badge badge-success">★★★★☆</span></td>
                        <td><span class="badge badge-warning">中</span></td>
                        <td><span class="badge badge-success">强烈推荐</span></td>
                    </tr>
                    <tr>
                        <td><strong>Hysteria2</strong></td>
                        <td><span class="badge badge-success">★★★★★</span></td>
                        <td><span class="badge badge-success">★★★★★</span></td>
                        <td><span class="badge badge-info">低</span></td>
                        <td><span class="badge badge-success">强烈推荐</span></td>
                    </tr>
                    <tr>
                        <td><strong>Trojan-Go</strong></td>
                        <td><span class="badge badge-success">★★★★☆</span></td>
                        <td><span class="badge badge-success">★★★★★</span></td>
                        <td><span class="badge badge-warning">中</span></td>
                        <td><span class="badge badge-success">推荐</span></td>
                    </tr>
                    <tr>
                        <td><strong>V2Ray</strong></td>
                        <td><span class="badge badge-warning">★★★☆☆</span></td>
                        <td><span class="badge badge-success">★★★★☆</span></td>
                        <td><span class="badge badge-warning">中</span></td>
                        <td><span class="badge badge-info">一般</span></td>
                    </tr>
                    <tr>
                        <td><strong>Shadowsocks</strong></td>
                        <td><span class="badge badge-warning">★★☆☆☆</span></td>
                        <td><span class="badge badge-success">★★★★☆</span></td>
                        <td><span class="badge badge-info">低</span></td>
                        <td><span class="badge badge-warning">不推荐</span></td>
                    </tr>
                </tbody>
            </table>

            <h2>Xray-core 详解</h2>
            <div class="info-box">
                <h4>项目简介</h4>
                <p>Xray 是 V2Ray 的超集，性能更好，功能更强大。支持多种协议，是目前最推荐的代理解决方案。</p>
                <p><strong>GitHub</strong>: <a href="https://github.com/XTLS/Xray-core" target="_blank">https://github.com/XTLS/Xray-core</a></p>
            </div>

            <h3>VLESS + Reality</h3>
            <div class="success-box">
                <h4>🏆 当前最强方案</h4>
                <p><strong>Reality</strong> 是 Xray 的最新技术，无需域名和 TLS 证书，通过"借用"真实网站的 TLS 指纹实现完美伪装。</p>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>特性</th>
                        <th>说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>核心优势</strong></td>
                        <td>
                            <ul>
                                <li>✅ 无需域名和 TLS 证书</li>
                                <li>✅ 流量完全伪装成真实 TLS</li>
                                <li>✅ 抗主动探测，无法被识别</li>
                                <li>✅ 可以"借用"知名网站（苹果、微软）</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>工作原理</strong></td>
                        <td>复制目标网站的 TLS 指纹，使流量看起来与访问该网站完全一致</td>
                    </tr>
                    <tr>
                        <td><strong>适用场景</strong></td>
                        <td>严格封锁环境、追求最高隐蔽性</td>
                    </tr>
                    <tr>
                        <td><strong>配置难度</strong></td>
                        <td>⭐⭐⭐ 中等（有一键脚本）</td>
                    </tr>
                </tbody>
            </table>

            <h3>VLESS + Vision</h3>
            <p>VLESS 协议配合 Vision 流控技术，优化了 XTLS 性能。</p>
            <ul>
                <li>✅ 比传统 XTLS 更安全</li>
                <li>✅ 性能优秀</li>
                <li>⚠️ 需要域名和 TLS 证书</li>
                <li>⚠️ 流量特征比 Reality 明显</li>
            </ul>

            <h3>VLESS + gRPC</h3>
            <p>使用 gRPC 传输协议，可以伪装成 Google Cloud 等服务。</p>
            <ul>
                <li>✅ 高隐蔽性，可配合 CDN</li>
                <li>✅ 适合长连接</li>
                <li>⚠️ 配置复杂</li>
                <li>⚠️ 速度相对较慢</li>
            </ul>

            <h3>sing-box：更现代的通用代理平台</h3>
            <div class="info-box">
                <p><strong>sing-box</strong> 是一个“代理平台/内核”，定位类似于 Xray-core，但更偏现代化工程实践：统一多协议入站/出站、路由规则、TUN、DNS 分流等能力。</p>
                <p><strong>GitHub</strong>: <a href="https://github.com/SagerNet/sing-box" target="_blank" rel="noopener">https://github.com/SagerNet/sing-box</a></p>
                <ul>
                    <li>✅ 配合 TUN 与 DNS 分流，适合做网关/路由器方案</li>
                    <li>✅ 支持多种现代协议与传输（具体以版本为准）</li>
                    <li>⚠️ 配置语义与 Xray/Clash 不完全一致，上手成本略高</li>
                </ul>
            </div>

            <h2>Hysteria2 详解</h2>
            <div class="info-box">
                <h4>项目简介</h4>
                <p>Hysteria2 是专为恶劣网络环境设计的高速代理协议，基于 QUIC 协议，具有强大的抗丢包能力。</p>
                <p><strong>GitHub</strong>: <a href="https://github.com/apernet/hysteria" target="_blank">https://github.com/apernet/hysteria</a></p>
            </div>

            <h3>核心特性</h3>
            <table>
                <thead>
                    <tr>
                        <th>特性</th>
                        <th>说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>暴力加速</strong></td>
                        <td>
                            <ul>
                                <li>⚡ 基于 UDP 和自定义拥塞控制</li>
                                <li>⚡ 可达 500Mbps+ 高速传输</li>
                                <li>⚡ 优秀的抗丢包能力（10% 丢包仍可用）</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>QUIC 伪装</strong></td>
                        <td>流量伪装为 QUIC 协议（HTTP/3），难以识别</td>
                    </tr>
                    <tr>
                        <td><strong>Salamander 混淆</strong></td>
                        <td>可选混淆功能，进一步增强抗封锁（降低约 10% 速度）</td>
                    </tr>
                    <tr>
                        <td><strong>适用场景</strong></td>
                        <td>高丢包网络、追求极致速度、游戏加速</td>
                    </tr>
                    <tr>
                        <td><strong>缺点</strong></td>
                        <td>
                            <ul>
                                <li>⚠️ 流量特征相对明显</li>
                                <li>⚠️ 可能需要频繁更换端口</li>
                                <li>⚠️ 部分网络环境限制 UDP</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>

            <h3>性能对比</h3>
            <pre><code>网络环境：100Mbps 带宽，5% 丢包

Hysteria2:      ~80Mbps  ⚡⚡⚡⚡⚡
Xray VLESS:     ~60Mbps  ⚡⚡⚡⚡
Trojan:         ~55Mbps  ⚡⚡⚡⚡
Shadowsocks:    ~45Mbps  ⚡⚡⚡</code></pre>

            <h2>Trojan / Trojan-Go 详解</h2>
            <div class="info-box">
                <h4>项目简介</h4>
                <p>Trojan 通过完全模仿 HTTPS 流量来实现隐蔽性，是企业级隐蔽方案。</p>
                <p><strong>GitHub</strong>: <a href="https://github.com/p4gefau1t/trojan-go" target="_blank">https://github.com/p4gefau1t/trojan-go</a></p>
            </div>

            <h3>核心特性</h3>
            <table>
                <thead>
                    <tr>
                        <th>特性</th>
                        <th>说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>HTTPS 伪装</strong></td>
                        <td>
                            <ul>
                                <li>✅ 完全模仿 HTTPS 流量</li>
                                <li>✅ 需要域名和正规 TLS 证书</li>
                                <li>✅ 可以搭建真实网站作为掩护</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>性能</strong></td>
                        <td>⚡⚡⚡⚡⚡ 速度快，资源占用低</td>
                    </tr>
                    <tr>
                        <td><strong>WebSocket 扩展</strong></td>
                        <td>可通过 Nginx 反代，配合 CDN 使用</td>
                    </tr>
                    <tr>
                        <td><strong>适用场景</strong></td>
                        <td>企业级隐蔽、长期稳定使用</td>
                    </tr>
                    <tr>
                        <td><strong>缺点</strong></td>
                        <td>
                            <ul>
                                <li>⚠️ 必须有域名和 TLS 证书</li>
                                <li>⚠️ 配置相对复杂</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>

            <h2>Shadowsocks 详解</h2>
            <div class="warning-box">
                <h4>⚠️ 不再推荐使用</h4>
                <p>Shadowsocks 是最早流行的代理协议，但由于流量特征明显，在严格环境下容易被识别和封锁。建议改用 Xray 或 Hysteria2。</p>
            </div>

            <h3>基本信息</h3>
            <table>
                <thead>
                    <tr>
                        <th>特性</th>
                        <th>说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>优点</strong></td>
                        <td>
                            <ul>
                                <li>✅ 配置简单</li>
                                <li>✅ 客户端支持广泛</li>
                                <li>✅ 资源占用低</li>
                                <li>✅ 适合旧设备</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>缺点</strong></td>
                        <td>
                            <ul>
                                <li>❌ 流量特征明显，易被 DPI 识别</li>
                                <li>❌ 抗封锁能力弱</li>
                                <li>❌ 不建议在严格环境使用</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>推荐加密</strong></td>
                        <td><code>aes-256-gcm</code> 或 <code>chacha20-ietf-poly1305</code></td>
                    </tr>
                    <tr>
                        <td><strong>插件扩展</strong></td>
                        <td>可配合 <code>v2ray-plugin</code> 或 <code>simple-obfs</code> 增强伪装</td>
                    </tr>
                </tbody>
            </table>

            <h2>V2Ray 详解</h2>
            <div class="info-box">
                <h4>项目简介</h4>
                <p>V2Ray 是老牌代理平台，功能强大，社区支持好。但性能和新特性不如 Xray。</p>
                <p><strong>GitHub</strong>: <a href="https://github.com/v2fly/v2ray-core" target="_blank">https://github.com/v2fly/v2ray-core</a></p>
            </div>

            <h3>V2Ray vs Xray</h3>
            <table>
                <thead>
                    <tr>
                        <th>对比项</th>
                        <th>V2Ray</th>
                        <th>Xray</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>性能</strong></td>
                        <td>⭐⭐⭐⭐</td>
                        <td>⭐⭐⭐⭐⭐</td>
                    </tr>
                    <tr>
                        <td><strong>新特性</strong></td>
                        <td>更新较慢</td>
                        <td>支持 Reality、Vision 等</td>
                    </tr>
                    <tr>
                        <td><strong>兼容性</strong></td>
                        <td>完全兼容</td>
                        <td>完全兼容 V2Ray</td>
                    </tr>
                    <tr>
                        <td><strong>社区</strong></td>
                        <td>成熟稳定</td>
                        <td>活跃更新</td>
                    </tr>
                    <tr>
                        <td><strong>推荐度</strong></td>
                        <td><span class="badge badge-warning">一般</span></td>
                        <td><span class="badge badge-success">强烈推荐</span></td>
                    </tr>
                </tbody>
            </table>

            <h2>其他协议</h2>

            <h3>NaiveProxy</h3>
            <ul>
                <li>🎯 基于 Chromium 的 HTTP/2 代理</li>
                <li>✅ 极难检测（完全模拟浏览器行为）</li>
                <li>⚠️ 配置极复杂，需要域名和证书</li>
                <li>⚠️ 速度较慢（约 VMess 的 70%）</li>
                <li>🔗 <a href="https://github.com/klzgrad/naiveproxy" target="_blank">GitHub</a></li>
            </ul>

            <h3>Brook</h3>
            <ul>
                <li>🎯 简易 UDP 代理，单文件部署</li>
                <li>✅ 配置简单，零依赖</li>
                <li>✅ 原生支持 UDP（适合游戏）</li>
                <li>⚠️ 功能较少，抗封锁能力一般</li>
                <li>🔗 <a href="https://github.com/txthinking/brook" target="_blank">GitHub</a></li>
            </ul>

            <h2>协议选择建议</h2>

            <h3>按使用场景选择</h3>
            <table>
                <thead>
                    <tr>
                        <th>场景</th>
                        <th>推荐协议</th>
                        <th>备选方案</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>严格封锁环境</strong></td>
                        <td>Xray Reality</td>
                        <td>Hysteria2 + 混淆</td>
                    </tr>
                    <tr>
                        <td><strong>追求极致速度</strong></td>
                        <td>Hysteria2</td>
                        <td>Trojan-Go</td>
                    </tr>
                    <tr>
                        <td><strong>长期稳定使用</strong></td>
                        <td>Xray Reality</td>
                        <td>Trojan + 真实网站</td>
                    </tr>
                    <tr>
                        <td><strong>游戏加速</strong></td>
                        <td>Hysteria2</td>
                        <td>Brook（UDP 优先）</td>
                    </tr>
                    <tr>
                        <td><strong>企业级隐蔽</strong></td>
                        <td>Trojan + CDN</td>
                        <td>NaiveProxy</td>
                    </tr>
                    <tr>
                        <td><strong>旧设备兼容</strong></td>
                        <td>Shadowsocks</td>
                        <td>V2Ray VMess</td>
                    </tr>
                </tbody>
            </table>

            <h3>按技术能力选择</h3>
            <table>
                <thead>
                    <tr>
                        <th>技术水平</th>
                        <th>推荐协议</th>
                        <th>原因</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>新手</strong></td>
                        <td>Hysteria2</td>
                        <td>一键脚本、配置简单、效果好</td>
                    </tr>
                    <tr>
                        <td><strong>进阶</strong></td>
                        <td>Xray Reality</td>
                        <td>最佳隐蔽性，有脚本支持</td>
                    </tr>
                    <tr>
                        <td><strong>高级</strong></td>
                        <td>多协议组合</td>
                        <td>灵活配置分流、负载均衡</td>
                    </tr>
                </tbody>
            </table>

            <h2>协议配置要点</h2>

            <h3>通用安全建议</h3>
            <div class="warning-box">
                <ul>
                    <li>🔒 <strong>使用强加密</strong> - 避免弱加密算法（如 RC4-MD5）</li>
                    <li>🔐 <strong>定期更换密码</strong> - 每 3-6 个月更换一次</li>
                    <li>🎲 <strong>随机化端口</strong> - 避免使用常见端口（除非伪装需要）</li>
                    <li>🌐 <strong>启用 TLS</strong> - 所有支持的协议都应启用 TLS</li>
                    <li>🚫 <strong>限制连接数</strong> - 防止被滥用和异常流量</li>
                </ul>
            </div>

            <h3>推荐端口选择</h3>
            <table>
                <thead>
                    <tr>
                        <th>端口</th>
                        <th>说明</th>
                        <th>推荐度</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>443</strong></td>
                        <td>HTTPS 标准端口，最不容易被封</td>
                        <td><span class="badge badge-success">强烈推荐</span></td>
                    </tr>
                    <tr>
                        <td><strong>80</strong></td>
                        <td>HTTP 标准端口</td>
                        <td><span class="badge badge-info">推荐</span></td>
                    </tr>
                    <tr>
                        <td><strong>8080, 8443</strong></td>
                        <td>常见代理端口</td>
                        <td><span class="badge badge-warning">一般</span></td>
                    </tr>
                    <tr>
                        <td><strong>随机高位端口</strong></td>
                        <td>10000-65535</td>
                        <td><span class="badge badge-warning">可选</span></td>
                    </tr>
                </tbody>
            </table>

            <h2>下一步学习</h2>
            <div class="success-box">
                <p>了解了各种协议后，接下来可以学习：</p>
                <ul>
                    <li><a href="tools.html">部署工具</a> - 学习如何快速部署这些协议</li>
                    <li><a href="clients.html">客户端推荐</a> - 选择合适的客户端软件</li>
                    <li><a href="security.html">安全防护</a> - 加强服务器安全配置</li>
                </ul>
            </div>
        </main>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2024 Proxy 101 知识库. 仅供技术学习使用.</p>
        </div>
    </footer>

    <script src="../assets/js/main.js"></script>
</body>
</html>
